package StackOverflow.XMLParser.Posts.Writer;

import java.util.HashMap;
import java.util.LinkedHashMap;
import java.util.Map;

public class PostsDocManager {

	static final String PREFIX = "PostDoc";
	// question Id and answer count
	Map<String,Integer> questionTable = null;
	
	int slice;
	// 
	Map<Integer,String> fileBuffer = null;
	String buffer;
	
	PostsDocManager() {
		questionTable = new LinkedHashMap<String,Integer>();
		fileBuffer = new HashMap<Integer,String>();
	}
	
	public void addDocument(Integer Id) {
		questionTable.put(Id, 0);
	}
	
	public void addAnswer(Integer Id) {
		Integer answerCount = questionTable.get(Id);
		if(answerCount != null) {
			answerCount++;
			questionTable.put(Id,answerCount);
		}	
	}
	
	public String getDynamicFieldName(String fieldName, Integer parentId) {
		Integer answerCount = questionTable.get(parentId);
		if(answerCount == null) {
			return null;
		}
		else {
			return fieldName + answerCount.toString();
		}
	}
	
	private String getFileName(String Id) {
		return PREFIX + Id;
	}
}
